{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///C:/todopraksa/src/app/todoiman/todoapi.js"],"sourcesContent":["import { MongoClient, ObjectId } from 'mongodb';\r\n\r\nconst uri = 'mongodb://localhost:27017'; \r\nconst client = new MongoClient(uri);\r\n\r\nasync function connect() \r\n{\r\n  try \r\n  {\r\n    await client.connect();\r\n    console.log('Connected to MongoDB');\r\n    const db = client.db('ToDoListDB');\r\n    return db; \r\n  } \r\n  catch (err) \r\n  {\r\n    console.error('Connection error:', err);\r\n  }\r\n}\r\nconnect();\r\n\r\nasync function getTodos()\r\n{\r\n    const db=await connect();\r\n    return await db.collection('todos').find().toArray();\r\n\r\n    return todos.map(todo => \r\n    ({\r\n        ...todo,\r\n        _id: todo._id.toString(), \r\n    }));\r\n}\r\n\r\nasync function createTodo(data)\r\n{\r\n    const db=await connect();\r\n    const result=await db.collection('todos').insertOne(data);\r\n    return {_id: result.insertedId.toString(), ...data};\r\n}\r\n\r\nasync function updateTodo(id, data)\r\n{\r\n    const db=await connect();\r\n\r\n    await db.collection('todos').updateOne\r\n    (\r\n        {_id:new ObjectId(id)},\r\n        {$set:data}\r\n    );\r\n    return await db.collection('todos').findOne({_id:new ObjectId(id)});\r\n}\r\n\r\nasync function deleteTodo(id)\r\n{\r\n    const db=await connect();\r\n    await db.collection('todos').deleteOne({_id:new ObjectId(id)});\r\n}\r\n\r\nexport\r\n{\r\n    getTodos,\r\n    createTodo,\r\n    updateTodo,\r\n    deleteTodo\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,MAAM;AACZ,MAAM,SAAS,IAAI,0JAAA,CAAA,cAAW,CAAC;AAE/B,eAAe;IAEb,IACA;QACE,MAAM,OAAO,OAAO;QACpB,QAAQ,GAAG,CAAC;QACZ,MAAM,KAAK,OAAO,EAAE,CAAC;QACrB,OAAO;IACT,EACA,OAAO,KACP;QACE,QAAQ,KAAK,CAAC,qBAAqB;IACrC;AACF;AACA;AAEA,eAAe;IAEX,MAAM,KAAG,MAAM;IACf,OAAO,MAAM,GAAG,UAAU,CAAC,SAAS,IAAI,GAAG,OAAO;;;AAOtD;AAEA,eAAe,WAAW,IAAI;IAE1B,MAAM,KAAG,MAAM;IACf,MAAM,SAAO,MAAM,GAAG,UAAU,CAAC,SAAS,SAAS,CAAC;IACpD,OAAO;QAAC,KAAK,OAAO,UAAU,CAAC,QAAQ;QAAI,GAAG,IAAI;IAAA;AACtD;AAEA,eAAe,WAAW,EAAE,EAAE,IAAI;IAE9B,MAAM,KAAG,MAAM;IAEf,MAAM,GAAG,UAAU,CAAC,SAAS,SAAS,CAElC;QAAC,KAAI,IAAI,0JAAA,CAAA,WAAQ,CAAC;IAAG,GACrB;QAAC,MAAK;IAAI;IAEd,OAAO,MAAM,GAAG,UAAU,CAAC,SAAS,OAAO,CAAC;QAAC,KAAI,IAAI,0JAAA,CAAA,WAAQ,CAAC;IAAG;AACrE;AAEA,eAAe,WAAW,EAAE;IAExB,MAAM,KAAG,MAAM;IACf,MAAM,GAAG,UAAU,CAAC,SAAS,SAAS,CAAC;QAAC,KAAI,IAAI,0JAAA,CAAA,WAAQ,CAAC;IAAG;AAChE","debugId":null}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///C:/todopraksa/src/pages/api/todos/post.js"],"sourcesContent":["import { createTodo } from '../../../app/todoiman/todoapi.js';\r\n\r\nexport default async function handler(req, res) \r\n{\r\n  if (req.method === 'POST') \r\n    {\r\n    try \r\n    {\r\n      const newTodo = await createTodo(req.body);\r\n      res.status(201).json(newTodo);\r\n    } \r\n    catch (err) \r\n    {\r\n      res.status(500).json({ error: 'Failed to create todo' });\r\n    }\r\n  } \r\n  else \r\n  {\r\n    res.status(405).json({ error: 'Method not allowed' });\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAE5C,IAAI,IAAI,MAAM,KAAK,QACjB;QACA,IACA;YACE,MAAM,UAAU,MAAM,CAAA,GAAA,0HAAA,CAAA,aAAU,AAAD,EAAE,IAAI,IAAI;YACzC,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;QACvB,EACA,OAAO,KACP;YACE,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;gBAAE,OAAO;YAAwB;QACxD;IACF,OAEA;QACE,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAqB;IACrD;AACF","debugId":null}}]
}